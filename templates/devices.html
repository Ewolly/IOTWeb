{% extends "base.html" %}
{% block title %}Devices{% endblock %}
{% block content %}
  <script type="text/javascript">
    var ir_html = 
    <div class="devices-list">
      <input type="text" id="friendly_name" name="friendly_name" value = "friends">
    </div>
    <div class="pure-control-group">
      <label for="Feedback1">Feedback Sensor 1:</label>
      <input type="text" id="Sensor1" name="Sensor1">
    </div>
    <div class="pure-control-group">
      <label for="Feedback2">Feedback Sensor 2:</label>
      <input type="text" id="Sensor2" name="Sensor2">
    </div>
    <div class="pure-control-group">
      <label for="Feedback3">Feedback Sensor 3:</label>
      <input type="text" id="Sensor3" name="Sensor3">
    </div>
    <div class="pure-control-group">
      <label for="Feedback4">Feedback Sensor 4:</label>
      <input type="text" id="Sensor4" name="Sensor4">
    </div>
    <div class="pure-controls">
      <button type="submit" class="pure-button pure-button-primary">Save</button>
      <a href="insert link to the Confirm deletion pop up" class="pure-button">Remove Device</a>
    </div>


  </script>
  <h1>IoTBox Devices</h1>
    <div>
    {% if online_devices|length > 0 %}
      <h2>Online</h2>
      <ul class="devices-list">
        {% for device in online_devices %}
          <li>
            <div>
            <img src="/static/device_icon/{{device.module_type}}.png">
            {% if device.friendly_name is not none %}
              <span class="device-name">{{ device.friendly_name }} - {{ module_names[device.module_type] }}</span>
            {% else %}
              <span class="device-name">{{ module_names[device.module_type] }}</span>
            {% endif %}
            <span href="#onlineModal" class="device-status" onclick="vex.dialog.alert('lets give this a go: {{ device.friendly_name }} is online')"><i class="fa fa-cog" aria-hidden="true"></i></span>
            <span class="device-status device-online">online</span>
            </div>
          </li>
        {% endfor %}
      </ul>
    {% endif %}
    {% if offline_devices|length > 0 %}
      <h2>Offline</h2>
      <ul class="devices-list">
        {% for device in offline_devices %}
          <li>
            <div>
            <img src="/static/device_icon/{{device.module_type}}.png">
            {% if device.friendly_name is not none %}
              <span class="device-name">{{ device.friendly_name }} - {{ module_names[device.module_type] }}</span>
            {% else %}
              <span class="device-name">{{ module_names[device.module_type] }}</span>
            {% endif %}
            <span href="#offlineModal" class="device-status" onclick="vex.open({unsafeContent: '<iframe id=&quot;modal&quot; src=&quot;https://iot.duality.co.nz/&quot; style=&quot;width: 600px; height: 600px; margin: -10px; border: 0;&quot; scrolling=&quot;no&quot;></iframe>'})"><i class="fa fa-cog" aria-hidden="true"></i></span>
            <span class="device-status device-offline">offline</span>
            </div>
          </li>
        {% endfor %}
      </ul>
    {% endif %}

    {% if not (online_devices|length > 0 or offline_devices|length > 0) %}
      <h2>No associated devices.</h2>
    {% endif %}
  </div>    
{% endblock %}